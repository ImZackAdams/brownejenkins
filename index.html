<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browne & Jenkins - Narrative Exploration</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Courier New', monospace;
            background-color: #000;
            color: #0f0;
            overflow: hidden;
        }
        #terminal {
            height: 100vh;
            width: 100vw;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
            position: relative;
        }
        #cursor {
            display: inline-block;
            width: 10px;
            height: 20px;
            background-color: #0f0;
            animation: blink 0.7s infinite;
        }
        @keyframes blink {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }
        .choice {
            cursor: pointer;
            color: #ff0;
            margin: 5px 0;
        }
        .choice:hover {
            text-decoration: underline;
        }
        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.15),
                rgba(0, 0, 0, 0.15) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
        }
        #glitch {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div id="terminal"></div>
    <div id="overlay"></div>
    <div id="glitch"></div>

    <script>
        const terminal = document.getElementById('terminal');
        let currentStoryNode = 'start';

        const storyNodes = {
            start: {
                text: "Welcome to Browne & Jenkins, purveyors of literary nightmares. How would you like to proceed?",
                choices: [
                    { text: "Explore our latest releases", next: "releases" },
                    { text: "Meet our authors", next: "authors" },
                    { text: "Experience a sample of our work", next: "sample" }
                ]
            },
            releases: {
                text: "Our latest releases include:\n1. 'Whispers in the Void' by E.A. Blackwood\n2. 'The Crimson Maze' by S.L. Holloway\n3. 'Echoes of Eternity' by M.R. James II",
                choices: [
                    { text: "Tell me about 'Whispers in the Void'", next: "whispers" },
                    { text: "Go back", next: "start" }
                ]
            },
            authors: {
                text: "Our esteemed authors include:\n- E.A. Blackwood: Master of cosmic horror\n- S.L. Holloway: Weaver of psychological terrors\n- M.R. James II: Heir to the ghost story throne",
                choices: [
                    { text: "Learn more about E.A. Blackwood", next: "blackwood" },
                    { text: "Go back", next: "start" }
                ]
            },
            sample: {
                text: "The door creaks open, revealing a dimly lit room. The air is thick with the scent of old books and something... else. A figure sits in the corner, shrouded in shadows. It speaks: 'Choose your path, dear reader.'",
                choices: [
                    { text: "Approach the figure", next: "approach" },
                    { text: "Examine the room", next: "examine" },
                    { text: "Run away", next: "run" }
                ]
            },
            whispers: {
                text: "'Whispers in the Void' is a mind-bending journey through fractured realities. Blackwood's prose will make you question the very fabric of existence.",
                choices: [
                    { text: "Purchase 'Whispers in the Void'", next: "purchase" },
                    { text: "Go back", next: "releases" }
                ]
            },
            blackwood: {
                text: "E.A. Blackwood, reclusive and brilliant, draws inspiration from dreams and nightmares alike. Their work has been described as 'Lovecraft meets Borges in a fever dream.'",
                choices: [
                    { text: "Read a sample of Blackwood's work", next: "sample" },
                    { text: "Go back", next: "authors" }
                ]
            },
            approach: {
                text: "As you near the figure, it looks up. You find yourself staring into eyes that seem to contain entire universes. 'Are you ready to see beyond the veil?' it asks.",
                choices: [
                    { text: "Yes, show me", next: "beyondVeil" },
                    { text: "No, I'm not ready", next: "start" }
                ]
            },
            examine: {
                text: "The room is filled with books, their spines bearing titles you can't quite read. A mirror on the wall doesn't reflect your image, but instead shows a vast, star-filled void.",
                choices: [
                    { text: "Touch the mirror", next: "mirror" },
                    { text: "Go back", next: "sample" }
                ]
            },
            run: {
                text: "You turn to flee, but the door has vanished. The walls seem to close in, whispering secrets not meant for mortal ears.",
                choices: [
                    { text: "Close your eyes and wish it away", next: "start" },
                    { text: "Listen to the whispers", next: "whispers" }
                ]
            },
            purchase: {
                text: "Excellent choice. Your copy of 'Whispers in the Void' will arrive in 3-5 business days. Or perhaps it's already here, waiting for you to notice it on your shelf...",
                choices: [
                    { text: "Return to main menu", next: "start" }
                ]
            },
            beyondVeil: {
                text: "The figure waves its hand, and reality seems to ripple. You see glimpses of impossible geometries and hear the echoes of long-dead stars. When you blink, you're back at the beginning, forever changed.",
                choices: [
                    { text: "Start over", next: "start" }
                ]
            },
            mirror: {
                text: "Your fingers brush the surface of the mirror, and you feel a cold so intense it burns. For a moment, you see through the eyes of something ancient and vast, watching the birth and death of galaxies.",
                choices: [
                    { text: "Pull away", next: "start" },
                    { text: "Keep looking", next: "beyondVeil" }
                ]
            }
        };

        function typeWriter(text, onComplete) {
            let i = 0;
            function type() {
                if (i < text.length) {
                    terminal.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, 25);
                } else {
                    terminal.innerHTML += '<span id="cursor"></span>';
                    if (onComplete) onComplete();
                }
            }
            type();
        }

        function displayChoices(choices) {
            choices.forEach((choice, index) => {
                const choiceElement = document.createElement('div');
                choiceElement.className = 'choice';
                choiceElement.textContent = `${index + 1}. ${choice.text}`;
                choiceElement.onclick = () => navigateTo(choice.next);
                terminal.appendChild(choiceElement);
            });
        }

        function navigateTo(nodeId) {
            const node = storyNodes[nodeId];
            terminal.innerHTML = '';
            currentStoryNode = nodeId;
            typeWriter(node.text, () => displayChoices(node.choices));
            triggerGlitchEffect();
        }

        function triggerGlitchEffect() {
            const glitch = document.getElementById('glitch');
            glitch.style.opacity = 0.7;
            setTimeout(() => {
                glitch.style.opacity = 0;
            }, 150);
        }

        navigateTo('start');

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            const choices = storyNodes[currentStoryNode].choices;
            const key = parseInt(e.key);
            if (key > 0 && key <= choices.length) {
                navigateTo(choices[key - 1].next);
            }
        });
    </script>
</body>
</html>